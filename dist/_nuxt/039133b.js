(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{399:function(t,e,o){var content=o(403);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(12).default)("3de20082",content,!0,{sourceMap:!1})},401:function(t,e,o){"use strict";o.r(e);o(13),o(199);var n=o(20),r=o(25),c=o(26),d=o(23),l=o(15),f=o(8),v=o(31),m=o(161),h=o(147),y=o(140);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(d.a)(this,o)}}var C=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},T=function(t){Object(c.a)(o,t);var e=_(o);function o(){var t;return Object(n.a)(this,o),(t=e.apply(this,arguments)).updateTime=1,t.localCompleted=t.dataSet.status===h.a.COMPLETED,t.todoItemType="item",t.showDialog=!1,t}return Object(r.a)(o,[{key:"onToggleComplete",value:function(t){y.default.updateTodoStatus({id:this.dataSet.id,status:t?h.a.COMPLETED:h.a.NEW})}},{key:"mounted",value:function(){var t=this;this.dataSet.status===h.a.NEW&&(console.log("1111",this.expired),this.$nuxt.$on("globalMinuteTimer",(function(){t.updateTime++,console.log("qqqqqq",t.expired),t.expired&&t.dataSet.status===h.a.NEW&&(t.showNotification(),y.default.updateTodoStatus({id:t.dataSet.id,status:h.a.EXPIRED}))})))}},{key:"destroyed",value:function(){this.$nuxt.$off("globalMinuteTimer")}},{key:"showNotification",value:function(){var t=this;console.log("test");var e=function(){new Notification(t.dataSet.title+" - "+t.dataSet.date+" "+t.dataSet.time,{body:t.dataSet.text})};"Notification"in window?"granted"===Notification.permission?e():"denied"!==Notification.permission&&Notification.requestPermission((function(t){"granted"===t&&e()})):console.error("This browser does not support desktop notification")}},{key:"openTodoItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"item";this.todoItemType=e,this.showDialog=!0,this.$nextTick((function(){return t.todoItem.newTodoDialog=!0}))}},{key:"removeTodo",value:function(){y.default.removeTodo(this.dataSet.id)}},{key:"expired",get:function(){return this.dataSet.timestamp<Date.now()}},{key:"completed",get:function(){return this.dataSet.status===h.a.COMPLETED}}]),o}(v.Vue);C([Object(v.Prop)({required:!0})],T.prototype,"dataSet",void 0),C([Object(v.Ref)("todoItem")],T.prototype,"todoItem",void 0),C([Object(v.Watch)("localCompleted")],T.prototype,"onToggleComplete",null);var k=T=C([Object(v.Component)({components:{TodoItem:m.default},filters:{timeLeft:function(t){var e=new Date(t).getTime()-(new Date).getTime(),o=Math.floor(e/864e5),n=Math.floor(e%864e5/36e5),r=Math.floor(e%36e5/6e4),c=function(t){return t<10?"0"+t:t};return e<0?"00h 00m":"".concat(0===o?"":c(o)+"d ").concat(c(n),"h ").concat(c(r),"m")}}})],T),x=(o(402),o(77)),O=o(85),j=o.n(O),w=o(194),S=o(369),R=o(368),D=o(426),I=o(193),V=o(400),E=o(397),P=o(398),M=o(396),component=Object(x.a)(k,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{class:["todo-card d-flex align-center",{"todo-card--completed":t.completed,"todo-card--expired":t.expired&&!t.completed}]},[o("v-checkbox",{staticClass:"ml-5",model:{value:t.localCompleted,callback:function(e){t.localCompleted=e},expression:"localCompleted"}}),t._v(" "),o("div",[o("v-card-title",{class:{"text-decoration-line-through":t.completed}},[t._v(t._s(t.dataSet.title))]),t._v(" "),o("v-card-subtitle",[t._v("\n      "+t._s(t.dataSet.date)+" "+t._s(t.dataSet.time)+"\n      "),t.completed?t._e():[t._v("\n        - time left:\n        "),o("span",{key:t.updateTime,staticClass:"text--primary"},[t._v(t._s(t._f("timeLeft")(t.dataSet.timestamp)))])]],2)],1),t._v(" "),o("v-card-actions",{staticClass:"ml-auto"},[o("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),n),[o("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),o("v-list",[o("v-list-item",{attrs:{link:""},on:{click:function(e){return t.openTodoItem("item")}}},[o("v-list-item-title",[t._v("View")])],1),t._v(" "),o("v-list-item",{attrs:{link:""},on:{click:function(e){return t.openTodoItem("edit")}}},[o("v-list-item-title",[t._v("Edit")])],1),t._v(" "),o("v-list-item",{attrs:{link:""},on:{click:t.removeTodo}},[o("v-list-item-title",{staticClass:"red--text"},[t._v("Delete")])],1)],1)],1)],1),t._v(" "),t.showDialog?o("TodoItem",{ref:"todoItem",attrs:{"data-set":t.dataSet,type:t.todoItemType},on:{dialogClosed:function(e){t.showDialog=e}}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;j()(component,{TodoItem:o(161).default}),j()(component,{VBtn:w.a,VCard:S.a,VCardActions:R.a,VCardSubtitle:R.b,VCardTitle:R.c,VCheckbox:D.a,VIcon:I.a,VList:V.a,VListItem:E.a,VListItemTitle:P.a,VMenu:M.a})},402:function(t,e,o){"use strict";o(399)},403:function(t,e,o){(e=o(11)(!1)).push([t.i,'.todo-card{position:relative}.todo-card:after{content:"";position:absolute;border-radius:4px 0 0 4px;left:0;top:0;z-index:3;height:100%;width:4px;background-color:#4caf50}.todo-card--completed:after{background-color:#ffeb3b}.todo-card--expired:after{background-color:#f44336}',""]),t.exports=e},425:function(t,e,o){"use strict";o.r(e);o(199);var n=o(20),r=o(25),c=o(26),d=o(23),l=o(15),f=o(8),v=o(31),m=o(401),h=o(140);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(d.a)(this,o)}}var _=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},C=function(t){Object(c.a)(o,t);var e=y(o);function o(){var t;return Object(n.a)(this,o),(t=e.apply(this,arguments)).updateKey=1,t}return Object(r.a)(o,[{key:"mounted",value:function(){var t=this;this.$nuxt.$on("globalMinuteTimer",(function(){return t.updateKey++}))}},{key:"destroyed",value:function(){this.$nuxt.$off("globalMinuteTimer")}},{key:"todos",get:function(){return h.default.dashboardTodos}}]),o}(v.Vue),T=C=_([Object(v.Component)({components:{TodoCard:m.default}})],C),k=o(77),x=o(85),O=o.n(x),j=o(384),w=o(424),S=o(387),component=Object(k.a)(T,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",{attrs:{justify:"center",align:"center"}},[o("v-col",{key:t.updateKey,attrs:{cols:"12",sm:"8",md:"6"}},[t.todos.overdue.length?[o("h4",{staticClass:"text-h5"},[t._v("Overdue")]),t._v(" "),o("v-divider",{staticClass:"my-3"}),t._v(" "),t._l(t.todos.overdue,(function(t){return o("TodoCard",{key:t.id,staticClass:"mb-4",attrs:{"data-set":t}})}))]:t._e(),t._v(" "),o("h4",{class:["text-h5",{"mt-7":t.todos.overdue.length}]},[t._v("Upcoming")]),t._v(" "),o("v-divider",{staticClass:"my-3"}),t._v(" "),t.todos.upcoming.length?t._l(t.todos.upcoming,(function(t){return o("TodoCard",{key:t.id,staticClass:"mb-4",attrs:{"data-set":t}})})):o("span",[t._v("No upcoming todos")]),t._v(" "),t.todos.other.length?[o("h4",{staticClass:"text-h5 mt-7"},[t._v("Planned")]),t._v(" "),o("v-divider",{staticClass:"my-3"}),t._v(" "),t._l(t.todos.other,(function(t){return o("TodoCard",{key:t.id,staticClass:"mb-4",attrs:{"data-set":t}})}))]:t._e(),t._v(" "),o("h4",{staticClass:"text-h5 mt-7"},[t._v("Completed")]),t._v(" "),o("v-divider",{staticClass:"my-3"}),t._v(" "),t.todos.completed.length?t._l(t.todos.completed,(function(t){return o("TodoCard",{key:t.id,staticClass:"mb-4",attrs:{"data-set":t}})})):o("span",[t._v("No completed todos")])],2)],1)}),[],!1,null,null,null);e.default=component.exports;O()(component,{TodoCard:o(401).default}),O()(component,{VCol:j.a,VDivider:w.a,VRow:S.a})}}]);